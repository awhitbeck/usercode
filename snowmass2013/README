########
# setup
########

cvs co -d ZZMatrixElement/snowmass2013 UserCode/Whitbeck/snowmass2013
cd ZZMatrixElement/snowmass2013

#JHU
source /home/ntran/ROOTdistributions/myROOT528_fromSource/root/bin/thisroot.csh
#lxplus
source /afs/cern.ch/sw/lcg/app/releases/ROOT/5.28.00/slc4_amd64_gcc34/root/bin/thisroot.sh

cd test 
root -l -n loadLib.C
Playground test(126.) 
test.loadTree("root://eoscms.cern.ch//eos/cms/store/cmst3/user/mmozer/Higgs/Prophecy/root/prophecy_inputemu_126_unweighted.root","newTree")
test.fitData()      


=========================

#submitting jobs to hhpc batch system by hand- - - 
#from the test directory

#pureToys -> true=pure toys, false=embedded toys
#ntoysperjob -> number of toys to run
#seed_index -> controls random numbers (and output file name)

qsub submitPBSJobTemplate.pbs -v "pureToys=false,ntoysperjob=1000,seed_index=2"

#jobs can also be submitted with no arguments.  By default the 
#job will run 1000 embedded toysA

#submitting jobs to hhpc batch system by hand- - - 
# see submitToys help documentation
python submitToys.py -h 


#==============================

#Running embedded toys can be done using 
# embeddedToys.C by simply modifying the
# root files that is loaded.  It takes the
# number of toys to run and the number of
# events per toys as parameters, e.g.:

# run 100 toys with 50 evts/toy
root -l -n loadLib.C "embeddedToys.C(50,100)"

# toys take 1-2 seconds each and don't seem to 
# crash even over 1000 trials. 
